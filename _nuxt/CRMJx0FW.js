import{_ as J}from"./BpRWAcSZ.js";import{d as T,c as a,o as u,g as t,h,t as p,b as y,a as m,j as K,_ as Q,k as X,u as s,e as j,f as l,x as Y,m as L,w as F,v as N,z as V,F as Z,y as tt}from"./Cg7vJITO.js";import{a as et,_ as nt,u as ot}from"./BX1Db_Kw.js";var S=(o=>(o.Seeker="Seeker",o.Guide="Guide",o))(S||{});const lt={class:"profile"},st={class:"small-title main-color center"},it={key:0},ut={key:1},at={key:2},rt={class:"link"},dt={key:3,class:"item-with-icon"},ct=T({__name:"ProfileBlock",props:{profile:{}},setup(o){return(v,i)=>{const d=Q,c=X;return u(),a("article",lt,[t("p",st,p(o.profile.name)+" "+p(o.profile.surname),1),o.profile.educational_institution?(u(),a("p",it,[i[0]||(i[0]=y("Educational Institution: ",-1)),t("span",null,p(o.profile.educational_institution),1)])):h("",!0),o.profile.age?(u(),a("p",ut,[i[1]||(i[1]=y("Age: ",-1)),t("span",null,p(o.profile.age),1)])):h("",!0),o.profile.country?(u(),a("p",at,[i[2]||(i[2]=y("Country: ",-1)),t("span",null,p(o.profile.country),1)])):h("",!0),t("p",null,"Role: "+p(o.profile.role),1),t("p",rt,[m(c,{to:`/profiles/${o.profile.id}`,class:"hover-color item-with-icon"},{default:K(()=>[i[3]||(i[3]=y("See Profile ",-1)),m(d,{name:"line-md:arrow-small-right",size:"20px",icon:"icon"})]),_:1},8,["to"])]),o.profile.role===s(S).Guide?(u(),a("aside",dt,[i[4]||(i[4]=y("Guide ",-1)),m(d,{name:"uil:university",size:"20px",style:{color:"#fff"}})])):h("",!0)])}}}),pt=Object.assign(j(ct,[["__scopeId","data-v-c25dfcb2"]]),{__name:"ProfileBlock"}),mt={class:"filters"},vt={class:"filter"},ft={class:"filter"},_t={class:"filter"},xt={class:"filter"},yt={class:"filter"},kt={class:"filter"},gt={key:0},wt={key:0,class:"list"},Ct=T({__name:"index",async setup(o){let v,i;const d=l([S.Seeker,S.Guide,-1]),c=l(1),k=l(""),g=l(""),w=l(""),C=l([6,12,24,-1]),G=l(0),$=l(6),b=l([1,2,3,4]),I=l(b.value),P=l(0),D=n=>{c.value=n,f()},M=n=>{C.value[n]&&(G.value=n,$.value=C.value[n]===-1?_.value.length:C.value[n],U())},R=n=>{P.value=n,z.value=x.value.slice($.value*P.value,$.value*(P.value+1))},f=()=>{x.value=_.value.filter(n=>(d.value[c.value]===-1||n.role===d.value[c.value])&&`${n.name} ${n.surname}`.trim().toLowerCase().includes(k.value.trim().toLowerCase())&&`${n.country?n.country:""}`.trim().toLowerCase().includes(g.value.trim().toLowerCase())&&`${n.educational_institution?n.educational_institution:""}`.trim().toLowerCase().includes(w.value.trim().toLowerCase())),U()},U=()=>{I.value=b.value.slice(0,Math.ceil(x.value.length/$.value)),I.value.length===0&&(I.value=[1]),R(0)},{data:E,pending:O}=([v,i]=Y(()=>ot("/api/users","$UUfmhGrmW0")),v=await v,i(),v),_=l([]),x=l([]),z=l([]);return E.value&&(_.value=E.value,x.value=_.value,f()),(n,e)=>{const B=J,W=pt,A=et,q=nt;return u(),a("section",null,[e[9]||(e[9]=t("div",{class:"intro"},[t("p",{class:"first bold"},"Find The Right Profile"),t("p",{class:"second bold"},"Instant Search And Smart Filters")],-1)),e[10]||(e[10]=t("p",{class:"large-title"},"Profiles",-1)),e[11]||(e[11]=t("hr",null,null,-1)),t("div",mt,[t("div",vt,[e[3]||(e[3]=t("span",null,"Role:",-1)),m(B,{options:s(d),"current-option-index":s(c),"select-option":D,width:120},null,8,["options","current-option-index"])]),t("div",ft,[e[4]||(e[4]=t("span",null,"Full Name:",-1)),F(t("input",{"onUpdate:modelValue":e[0]||(e[0]=r=>V(k)?k.value=r:null),type:"text",placeholder:"Full Name",onInput:f},null,544),[[N,s(k)]])]),t("div",_t,[e[5]||(e[5]=t("span",null,"Country:",-1)),F(t("input",{"onUpdate:modelValue":e[1]||(e[1]=r=>V(g)?g.value=r:null),type:"text",placeholder:"Country",onInput:f},null,544),[[N,s(g)]])]),t("div",xt,[e[6]||(e[6]=t("span",null,"Educational Institution:",-1)),F(t("input",{"onUpdate:modelValue":e[2]||(e[2]=r=>V(w)?w.value=r:null),type:"text",placeholder:"Educational Institution",onInput:f},null,544),[[N,s(w)]])]),t("div",yt,[e[7]||(e[7]=t("span",null,"Show:",-1)),m(B,{options:s(C),"current-option-index":s(G),"select-option":M,width:90},null,8,["options","current-option-index"])]),t("div",kt,[e[8]||(e[8]=t("span",null,"Page:",-1)),m(B,{options:s(I),"current-option-index":s(P),"select-option":R,width:90},null,8,["options","current-option-index"])])]),s(_)[0]?(u(),a("div",gt,[s(x)[0]?(u(),a("div",wt,[(u(!0),a(Z,null,tt(s(z),(r,H)=>(u(),L(W,{key:H,profile:r},null,8,["profile"]))),128))])):(u(),L(A,{key:1}))])):s(O)?(u(),L(q,{key:1})):(u(),L(A,{key:2}))])}}}),ht=j(Ct,[["__scopeId","data-v-1fe920e4"]]);export{ht as default};
